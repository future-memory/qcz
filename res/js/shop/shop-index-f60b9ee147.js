!function(t){function e(i){if(a[i])return a[i].exports;var o=a[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var a={};e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){t.exports=a(1)},function(t,e){"use strict";$(function(){function t(){return"0"!=uid}function e(){this.listData=null,this.listPage=1,this.listPerPage=10,this.hasMore=!0,this.vm={},Vue.component("goods-list",{template:"#goodsListTemplate",props:["listData","hasMore"]})}function a(t){var e=$(window),a=$("body"),i=this;this.bLoading=!1,this.hasMore=!0,e.scroll(function(o){i.hasMore&&!i.bLoading&&e.scrollTop()>a[0].scrollHeight-a.height()-100&&(i.bLoading=!0,t())})}$(".fun-link a").on("click",function(e){t()||(mzbbsClient.showDialogYesNoMsg("请先登录","mzbbsClient.bbsappLogin();",""),e.preventDefault())}),e.prototype.getData=function(){var t=this;$.ajax({url:"/index.php",type:"get",data:{mod:"shop",action:"goods_list",page:this.listPage,limit:this.listPerPage},dataType:"json",success:function(e){var a=e.code,o=e.data;t.hasMore=!o.last_page,o.last_page&&(i.hasMore=!1),200==a?(t.initData(o.list),1==t.listPage?(t.listData=o.list,t.renderList()):(t.listData.concat(o.list),_.each(o.list,function(e){t.listData.push(e)}),i.bLoading=!1),t.listPage*t.listPerPage>=o.count&&(t.vm.hasMore=!1,i.hasMore=!1)):mzbbsClient.showToast(e.reason,0),t.listPage++}})},e.prototype.initData=function(t){_.each(t,function(t,e){t.extraInfo=null,parseInt(t.count)>0?"1"==t.just_for_app?t.extraInfo={type:"cutprice",txt:"APP专属"}:"0"!=t.orig_price&&parseInt(t.orig_price,10)>parseInt(t.price,10)&&(t.extraInfo={type:"cutprice",txt:"优惠"}):t.extraInfo={type:"soldout",txt:"缺货"}})},e.prototype.renderList=function(){var t=this;this.vm=new Vue({el:"#goodsList",data:{listData:t.listData,hasMore:t.hasMore}})},window.goodsList=new e,goodsList.getData();var i=new a(_.bind(goodsList.getData,goodsList));Vue.component("swipe-banner",{template:"#swipeBannerTemplate",props:["bannerData"],ready:function(){new Swiper("#banner",{centeredSlides:!0,loop:!0,loopAdditionalSlides:1,slidesPerView:1,slidesPerGroup:1,paginationType:"bullets",pagination:".swiper-pagination",initialSlide:0,spaceBetween:10,noSwiping:!1,autoplay:4e3,speed:500,autoplayDisableOnInteraction:!1,onSlideChangeEnd:function(t){}})}}),new Vue({el:"#bannerWrap",data:{bannerData:promote_data}})})}]);